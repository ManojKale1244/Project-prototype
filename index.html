<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Krushi App</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 
</head>
<body>

  <div class="phone">
    <div id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div class="sidebar-header">
            <i class="fa-solid fa-seedling" style="font-size: 30px;"></i>
            <h3>Krushi App</h3>
        </div>
        <a href="#" onclick="showHome()"><i class="fa-solid fa-house"></i> Home</a>
        <a href="#" onclick="showLogin()"><i class="fa-solid fa-right-to-bracket"></i> Login</a>
        <a href="#" onclick="showFarmer()"><i class="fa-solid fa-user-tie"></i> Farmer Dashboard</a>
        <a href="#" onclick="showDoctor()"><i class="fa-solid fa-stethoscope"></i> Doctor Dashboard</a>
        <a href="#" onclick="showCommunity()"><i class="fa-solid fa-users"></i> Community</a>
        <a href="#" onclick="showCropGuides()"><i class="fa-solid fa-book-open"></i> Crop Guides</a>
        <a href="#" onclick="showMarketplace()"><i class="fa-solid fa-store"></i> Marketplace</a>
    </div>

    <header id="title">
        <span class="menu-icon" onclick="openNav()">&#9776;</span>
        <div class="app-title">Krushi App</div>
    </header>
    <div class="content" id="screen">

      <div id="overview">
        <div class="logo">üåæ</div>
        <h2>Welcome to Krushi App</h2>
        <p>Your one-stop solution for smart farming. Scan crops, detect diseases, and connect with experts.</p>
        <button class="btn" onclick="showHome()">Get Started</button>
      </div>

      <div id="home" style="display:none;">
        <div class="proximity-banner">
            <div>
                Farmers Online<br>
                <span>2</span>
            </div>
            <div>
                Doctors Online<br>
                <span>2</span>
            </div>
            <div>
                Range<br>
                <span>5 km</span>
            </div>
        </div>
        <input type="text" placeholder="üîç Search for crops or solutions..." class="search-bar">
        
        <div class="options">
          <div class="option-box" onclick="showCropGuides()">
            <i class="fa-solid fa-book-open"></i>
            <span>Crop Guides</span>
          </div>
          <div class="option-box" onclick="showMarketplace()">
            <i class="fa-solid fa-store"></i>
            <span>Marketplace</span>
          </div>
          <div class="option-box" onclick="showCommunity()">
            <i class="fa-solid fa-users"></i>
            <span>Community</span>
          </div>
          <div class="option-box" onclick="showAgriNews()">
            <i class="fa-solid fa-newspaper"></i>
            <span>Agri-News</span>
          </div>
        </div>
        <button class="btn" onclick="showSimpleMode()">Simple Mode (Voice)</button>
      </div>
      
      <div id="simpleMode" style="display:none;">
          <div class="section-title">Simple Mode Activated</div>
          <div class="speech-bubble">
              <i class="fa-solid fa-volume-high"></i>
              <p>Welcome, I am your guide. What would you like to do?</p>
          </div>
          <div class="simple-mode-options">
              <button class="btn" onclick="showScanner(); speak('Okay. Please hold the phone steady to scan your crop.');">Scan Crop</button>
              <button class="btn" onclick="speak('Searching for nearby doctors.');">Talk to Doctor</button>
              <button class="btn" onclick="speak('Today\'s weather is sunny with a temperature of 28 degrees Celsius.');">Check Weather</button>
              <button class="btn" onclick="showHome(); speak('Simple mode is now off.');">Exit Simple Mode</button>
          </div>
      </div>

      <div id="login" style="display:none;">
        <div class="section-title">Login As</div>
        <button class="btn" onclick="showFarmer()"><i class="fa-solid fa-user-tie btn-icon"></i>Farmer</button>
        <button class="btn btn-secondary" onclick="showDoctor()"><i class="fa-solid fa-stethoscope btn-icon"></i>Agri Doctor</button>
        <button class="btn" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back to Home</button>
      </div>

      <div id="farmer" style="display:none;">
        <div class="section-title">Farmer Dashboard</div>
        <div class="proximity-banner">
            <div>
                My nearby Experts:<br>
                <span>2 Doctors within 5 km</span>
            </div>
        </div>
        <div class="card">
          <h4>Latest Scan:</h4>
          <p><strong>Detected:</strong> Leaf Spot on Wheat</p>
          <p><strong>Suggestion:</strong> Apply a copper-based fungicide. Consult nearby doctor for dosage.</p>
        </div>
        <button class="btn"><i class="fa-solid fa-headset btn-icon"></i>Contact Expert</button>
        <button class="btn btn-secondary" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back</button>
      </div>

      <div id="doctor" style="display:none;">
        <div class="section-title">Doctor Dashboard</div>
        <div class="proximity-banner">
            <div>
                Farmers Online:<br>
                <span>2 within 5 km</span>
            </div>
        </div>
        <div class="card">
          <h4>New Consultation Request:</h4>
          <p><strong>Farmer:</strong> Ramesh, Vill. Bori (3 km)</p>
          <p><strong>Problem:</strong> Cotton pest infestation.</p>
          <button class="btn">Accept</button>
        </div>
        <button class="btn" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back</button>
      </div>

      <div id="community" style="display:none;">
        <div class="section-title">Farmer Community</div>
        <div class="card">
          <h4>üåæ Ramesh:</h4>
          <p>My tomato leaves are turning yellow. Any tips?</p>
          <small>2 replies</small>
        </div>
        <div class="card">
          <h4>üë©‚Äçüåæ Sita:</h4>
          <p>Neem spray worked for me! You can try mixing 10ml in 1 liter of water.</p>
          <small>5 likes</small>
        </div>
        <button class="btn"><i class="fa-solid fa-plus btn-icon"></i>Post New Question</button>
        <button class="btn btn-secondary" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back</button>
      </div>

      <div id="scanResult" style="display:none;">
        <div class="section-title">Scan Results</div>
        <div class="card">
            <div class="scan-result-section">
                <h4><i class="fa-solid fa-seedling"></i> Identified Disease</h4>
                <p><strong>Tomato Leaf Curl Virus (ToLCV)</strong></p>
                <p>This is a major viral disease affecting tomato plants, transmitted by whiteflies.</p>
            </div>
            <div class="scan-result-section">
                <h4><i class="fa-solid fa-spray-can"></i> Recommended Pesticides</h4>
                <ul>
                    <li>Neem Oil-based sprays</li>
                    <li>Acetamiprid-based insecticides</li>
                    <li>Spiromesifen for whitefly control</li>
                </ul>
                <a href="#" class="btn btn-secondary" style="width:100%;" onclick="showMarketplace()">Buy Now from Marketplace</a>
            </div>
            <div class="scan-result-section">
                <h4><i class="fa-solid fa-shield-halved"></i> How to Prevent It</h4>
                <ul>
                    <li>Use virus-free seeds and seedlings.</li>
                    <li>Control the whitefly population using neem oil or insecticidal soap.</li>
                    <li>Remove and destroy infected plants immediately to prevent spread.</li>
                </ul>
            </div>
            <div class="scan-result-section">
                <h4><i class="fa-solid fa-bug-slash"></i> Why This Happens</h4>
                <p>The virus is spread by a tiny insect called the **whitefly**. When a whitefly feeds on an infected plant and then moves to a healthy one, it transfers the virus. High temperatures and dry weather can increase whitefly activity.</p>
            </div>
            <div class="scan-result-section">
                <h4><i class="fa-solid fa-user-doctor"></i> Connect with a Doctor</h4>
                <p>Get expert advice from a professional nearby.</p>
                <div class="card" style="padding:10px;">
                    <strong>Dr. Patil</strong> (Agri Specialist)<br>
                    Distance: <strong>1.5 km</strong><br>
                    <a href="tel:+919876543210" class="btn btn-secondary" style="width:100%; margin:10px 0 0;">Call Now</a>
                </div>
            </div>
        </div>
        <button class="btn btn-secondary" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back to Home</button>
      </div>

      <div id="cropGuides" style="display:none;">
        <div class="section-title">üåæ Crop Guides</div>
        <input type="text" placeholder="Search guides..." class="search-bar">
        <div class="card">
            <h4>Tomato Cultivation</h4>
            <p>A comprehensive guide on soil, planting, and pest management for tomatoes.</p>
        </div>
        <div class="card">
            <h4>Wheat Harvesting</h4>
            <p>Learn the best practices and modern techniques for a high-yield wheat harvest.</p>
        </div>
        <button class="btn" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back</button>
      </div>

      <div id="marketplace" style="display:none;">
        <div class="section-title">üõçÔ∏è Marketplace</div>
        <div class="card">
            <h4>Fertilizer: Bio-Grow Organic</h4>
            <p><strong>Price:</strong> ‚Çπ500/kg</p>
            <button class="btn">Buy Now</button>
        </div>
        <div class="card">
            <h4>Pest Spray: Neem Oil</h4>
            <p><strong>Price:</strong> ‚Çπ250/bottle</p>
            <button class="btn">Buy Now</button>
        </div>
        <button class="btn" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back</button>
      </div>

      <div id="agriNews" style="display:none;">
        <div class="section-title">üì∞ Agri-News</div>
        <div class="card news-card">
            <h5>Govt. announces new subsidy for farmers.</h5>
            <p>The government today launched a new scheme...</p>
        </div>
        <div class="card news-card">
            <h5>Monsoon forecast: Heavy rains expected in South.</h5>
            <p>Farmers in the region are advised to prepare...</p>
        </div>
        <button class="btn" onclick="showHome()"><i class="fa-solid fa-arrow-left btn-icon"></i>Back</button>
      </div>
    </div>

    <div id="scanner" class="scanner-view" style="display:none;">
        <div class="scanner-camera-feed">
            <div class="scanner-window">
                <div class="scanner-line"></div>
            </div>
        </div>
        <button class="shutter-btn" onclick="simulateScan()">
            <i class="fa-solid fa-camera" style="color:var(--primary-green);"></i>
        </button>
    </div>

    <div class="nav">
      <button onclick="showHome()" id="navHome" class="active">
          <i class="fa-solid fa-house"></i>Home
      </button>
      <button onclick="showFarmer()" id="navFarmer">
          <i class="fa-solid fa-user-tie"></i>Farmer
      </button>
      <div class="scanner-btn" onclick="showScanner()">
          <i class="fa fa-camera"></i>
      </div>
      <button onclick="showCommunity()" id="navCommunity">
          <i class="fa-solid fa-users"></i>Community
      </button>
      <button onclick="showDoctor()" id="navDoctor">
          <i class="fa-solid fa-stethoscope"></i>Doctor
      </button>
    </div>
  </div>

  <script>
    let simpleMode = false;
    const synth = window.speechSynthesis;

    function hideAll() {
      document.querySelectorAll("#screen > div").forEach(div => div.style.display = "none");
    }
    
    function speak(text) {
        if (!synth) return;
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'en-IN';
        synth.speak(utterance);
    }
    
    function showScreen(id, titleText) {
        hideAll();
        document.getElementById(id).style.display = "block";
        document.querySelector('.app-title').innerText = titleText;
    }
    
    function openNav() {
        document.getElementById("sidebar").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("sidebar").style.width = "0";
    }

    function showHome() { 
        showScreen('home', 'Krushi App'); 
        document.getElementById('scanner').style.display = 'none';
        closeNav();
    }
    function showLogin() { showScreen('login', 'Login'); closeNav(); }
    function showFarmer() { showScreen('farmer', 'Farmer Dashboard'); closeNav(); }
    function showDoctor() { showScreen('doctor', 'Doctor Dashboard'); closeNav(); }
    function showCommunity() { showScreen('community', 'Community'); closeNav(); }
    function showCropGuides() { showScreen('cropGuides', 'Crop Guides'); closeNav(); }
    function showMarketplace() { showScreen('marketplace', 'Marketplace'); closeNav(); }
    function showAgriNews() { showScreen('agriNews', 'Agri-News'); closeNav(); }

    function showSimpleMode() { 
        simpleMode = true;
        showScreen('simpleMode', 'Simple Mode');
        closeNav();
        speak("Welcome, I am your guide. What would you like to do?");
    }
    
    function showScanner() {
        hideAll();
        document.getElementById('scanner').style.display = 'flex';
        document.querySelector('.app-title').innerText = 'Crop Scanner';
        closeNav();
    }

    function simulateScan() {
        // Simulate scanning process
        const shutterBtn = document.querySelector('.shutter-btn');
        shutterBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin" style="color:var(--primary-green);"></i>';
        
        if (simpleMode) {
            speak("Scanning complete. Analyzing the image. This might take a few seconds.");
        }

        setTimeout(() => {
            // Hide the scanner and show the results
            document.getElementById('scanner').style.display = 'none';
            showScreen('scanResult', 'Scan Results');
            if (simpleMode) {
                speak("Scan results are ready. We have identified a disease. Would you like to know more about it, or connect with a doctor?");
            }
        }, 3000); // 3-second delay
    }

    // Initial load
    document.addEventListener('DOMContentLoaded', () => {
        showScreen('overview', 'Krushi App');
    });

  </script>

</body>

</html>
